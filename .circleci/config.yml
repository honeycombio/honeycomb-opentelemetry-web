version: 2.1

setup: true

orbs:
  path-filtering: circleci/path-filtering@1.1.0

parameters:
  base-path:
    type: string
    default: ''

workflows:
  generate-config:
    jobs:
      - path-filtering/filter:
          base-revision: main
          config-path: .circleci/build-npm-package.yml
          mapping: |
            packages/honeycomb-opentelemetry-web/.* package-name "honeycomb-opentelemetry-web" packages/honeycomb-opentelemetry-web/.circleci/config.yml
            packages/honeycomb-react-user-instrumentation/.* package-name "honeycomb-react-user-instrumentation" packages/honeycomb-react-user-instrumentation/.circleci/config.yml
